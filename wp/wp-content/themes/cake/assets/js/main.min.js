"use strict";window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var o=0;o<this.length;o++)e.call(t,this[o],o,this)});var items=document.querySelectorAll(".cake__item");[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(e){e.hasOwnProperty("append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),o=document.createDocumentFragment();e.forEach(function(e){var t=e instanceof Node;o.appendChild(t?e:document.createTextNode(String(e)))}),this.appendChild(o)}})}),function(){var e=[window.Element,window.CharacterData,window.DocumentType],t=[];e.forEach(function(e){e&&t.push(e.prototype)}),t.forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}();try{var btn=document.querySelector(".menu__menu"),block=document.querySelector(".menu__list");btn.addEventListener("click",function(){btn.classList.toggle("menu__menu-active"),btn.classList.contains("menu__menu-active")?block.style.display="block":block.style.display="none"})}catch(e){}try{var addClass=function(e,o,a){document.querySelectorAll(e).forEach(function(e){var t;e.classList.add(o),a&&((t=document.createElement("div")).classList.add(a),e.append(t))})};addClass(".footer li","footer__item","footer__line"),addClass(".header .header__list li","header__item","header__line"),addClass(".header__list-hamburger li","header__item-hamburger",!1);try{var burgerActive=document.createElement("div");burgerActive.classList.add("burger-line"),document.querySelector(".burger-active").append(burgerActive)}catch(e){}}catch(e){}var category=document.querySelectorAll(".taxonomy.category_menu"),spans=document.querySelectorAll(".current-item");category.forEach(function(e){e.classList.add("infoTorts__home")}),spans.forEach(function(e){e.classList.add("infoTorts__next")});try{items.forEach(function(e){e.addEventListener("mouseover",function(e){var t,o=e.target.closest(".cake__item");if(o&&!o.querySelector(".cake__info")){switch(o.dataset.element){case"1":t="cake__goRight";break;case"2":t="cake__goCenter";break;case"3":t="cake__goLeft"}e=document.createElement("div");e.classList.add("cake__info"),e.classList.add(t),console.log(e),e.innerHTML='\n                <h3 class="cake__title">'.concat(o.dataset.name,'</h3>\n                <p class="cake__description">').concat(o.dataset.info,'</p>\n                <div class="cake__footer">\n                <span class="cake__gram">').concat(o.dataset.gramm,' г.</span>\n                <span class="cake__price">').concat(o.dataset.price," р.</span>\n                "),o.append(e)}})}),items.forEach(function(e){e.addEventListener("mouseleave",function(e){document.querySelector(".cake__info").remove()})})}catch(e){}try{var changeDisabled=function(e,t){console.log("fff");var o=document.querySelector(e),a=document.querySelector(t);o.addEventListener("change",function(){o.checked?(a.removeAttribute("disabled"),a.classList.add("modal__submit"),a.classList.remove("modal__disabled")):(a.setAttribute("disabled","true"),a.classList.remove("modal__submit"),a.classList.add("modal__disabled"))})};try{changeDisabled(".application-checkbox",".application__submit")}catch(e){}try{changeDisabled(".torts__checkbox",".modal__tort")}catch(e){}}catch(e){}$("form").on("submit",function(e){e.preventDefault();var e=$(this).serializeArray(),n=$(this).attr("action"),t=!0;"application_fun"===n&&document.querySelectorAll(".application__radio").forEach(function(e){t=!!e.checked}),t?$.post(myajax.url,{form:e,action:n},function(e){for(var t,o,a=0;a<$("form").length;a++)$("form")[a].reset(),document.querySelectorAll(".placeholder").forEach(function(e){e.style.display="block"});"application_fun"===n?((t=document.createElement("div")).classList.add("goodFetch"),t.textContent="Успешно.Ваша заявка отправлена",document.querySelector(".application__form").append(t),setTimeout(function(){t.remove()},4e3)):"page-cont"===n&&(document.querySelector(".modal__content").style.display="none",(o=document.createElement("div")).classList.add("goodFetch"),o.textContent="Успешно.Ваша заявка отправлена",document.querySelector(".modal__dialog").append(o),setTimeout(function(){o.remove(),document.querySelector(".modal__content").style.display="block"},4e3))}):alert("Выберите скидку")});try{var checkbox=document.querySelector(".modal__checkbox"),btnSubmit=document.querySelector(".modal__button");try{checkbox.addEventListener("change",function(){checkbox.checked?(btnSubmit.classList.remove("modal__disabled"),btnSubmit.classList.add("modal__submit"),btnSubmit.removeAttribute("disabled")):(btnSubmit.classList.add("modal__disabled"),btnSubmit.setAttribute("disabled","true"),btnSubmit.classList.remove("modal__submit"))})}catch(e){}}catch(e){}try{document.querySelector(".menu-icon").addEventListener("click",function(e){e.target.closest(".menu-icon").classList.toggle("clicked"),document.querySelector(".menu-icon").classList.contains("clicked")?document.querySelector(".header__list-hamburger").classList.add("active-list","header__list-hamburger-animate"):document.querySelector(".header__list-hamburger").classList.remove("active-list")})}catch(e){}try{$(window).scroll(function(){$(document).scrollTop()>$(document).height()-1100&&!$("body").hasClass("loading")&&"undefined"!=typeof true_posts&&(console.log(true_posts),$("body").addClass("loading"),$.post(myajax.url,{action:"news_loadmore",query:true_posts||"",page:current_page||""},function(e){e?(current_page++,$(".menu__loading").before(e),$("body").removeClass("loading")):$(".menu__loading").remove()}))})}catch(e){}try{var btns=document.querySelector(".tort__items"),modal=document.querySelector(".modal"),dialog=document.querySelector(".modal__dialog"),_block=document.querySelector(".modal__block");btns.addEventListener("click",function(e){var t;e.target.closest(".tort__item")&&(document.body.style.overflow="hidden",modal.style.transition="all 1s",modal.style.overflow="auto",modal.classList.add("modal-active"),t=e.target.closest(".tort__item"),(e=document.createElement("div")).classList.add("modal__infoTort"),e.innerHTML='\n                <h2 class="modal__title">Онлайн заказ торта</h2>\n                <div class="modal__info">\n                    <div class="modal__img-block">\n                        <img src="'.concat(t.dataset.img,'" alt="tort" class="modal__img">\n                    </div>\n                    <div class="modal__description">\n                        <h5 class="modal__name">').concat(t.dataset.nameTort,'</h5>\n                        <p class="modal__text">\n                            ').concat(t.dataset.description,'\n                        </p>\n                    </div>\n                </div>\n                <div class="modal__bottom">\n                    <div class="modal__line"></div>\n                    <div class="modal__opis">\n                        <div class="modal__gram">').concat(t.dataset.kg,' кг.</div>\n                        <div class="modal__price">').concat(t.dataset.rub," ₽</div>\n                    </div>\n                </div>\n            "),_block.append(e),(e=document.createElement("input")).classList.add("input__hidden"),e.value=t.dataset.nameTort,e.setAttribute("name","tort"),document.querySelector(".hidden__label").append(e))}),modal.addEventListener("click",function(e){(e.target.classList.contains("modal")||e.target.classList.contains("modal_close"))&&(document.body.style.overflow="",modal.style.transition="none",modal.classList.remove("modal-active"),modal.querySelector(".modal__infoTort").remove(),document.querySelector(".hidden__label").querySelector(".input__hidden").remove())})}catch(e){}try{var conts=document.querySelectorAll(".cont"),inputs=document.querySelector(".application").querySelectorAll(".application-input");conts.forEach(function(e){e.addEventListener("click",function(e){e.target.classList.contains("placeholder")&&e.target.previousElementSibling.focus()})}),inputs.forEach(function(e){e.addEventListener("focus",function(e){e.target.nextElementSibling.style.display="none"}),e.addEventListener("blur",function(e){""==e.target.value.trim()&&(e.target.nextElementSibling.style.display="block")})})}catch(e){}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var o=0;o<this.length;o++)e.call(t,this[o],o,this)});try{!function(e){e.matches=e.matches||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector,e.closest=e.closest||function(e){return this?this.matches(e)?this:this.parentElement?this.parentElement.closest(e):null:null}}(Element.prototype);var swiper=new Swiper(".swiper-container",{slidesPerView:1,spaceBetween:30,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}catch(e){}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY2FyZGVvbi5qcyIsImFkZENsYXNzLmpzIiwiYnJlYWQuanMiLCJjYWtlLmpzIiwiY2hlY2tib3guanMiLCJmZXRjaC5qcyIsImZvcm0uanMiLCJoYW1idXJnZXIuanMiLCJsb2FkbW9yZS5qcyIsIm1vZGFsLmpzIiwicGxhY2Vob2xkZXIuanMiLCJzbGlkZXIuanMiXSwibmFtZXMiOlsid2luZG93IiwiTm9kZUxpc3QiLCJwcm90b3R5cGUiLCJmb3JFYWNoIiwiY2FsbGJhY2siLCJ0aGlzQXJnIiwiaSIsInRoaXMiLCJsZW5ndGgiLCJjYWxsIiwiaXRlbXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJFbGVtZW50IiwiRG9jdW1lbnQiLCJEb2N1bWVudEZyYWdtZW50IiwiaXRlbSIsImhhc093blByb3BlcnR5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJ2YWx1ZSIsImFyZ0FyciIsIkFycmF5Iiwic2xpY2UiLCJhcmd1bWVudHMiLCJkb2NGcmFnIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImFyZ0l0ZW0iLCJpc05vZGUiLCJOb2RlIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIlN0cmluZyIsImFyciIsIkNoYXJhY3RlckRhdGEiLCJEb2N1bWVudFR5cGUiLCJhcmdzIiwicHVzaCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImJ0biIsInF1ZXJ5U2VsZWN0b3IiLCJibG9jayIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJjb250YWlucyIsInN0eWxlIiwiZGlzcGxheSIsIl91bnVzZWQiLCJhZGRDbGFzcyIsInNlbGVjdG9yIiwiY2xhc3NMaSIsImNsYXNzTGluZSIsImxpbmUiLCJhZGQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kIiwiYnVyZ2VyQWN0aXZlIiwiX3VudXNlZDIiLCJfdW51c2VkMyIsImNhdGVnb3J5Iiwic3BhbnMiLCJlIiwidHJhbkNsYXNzIiwiYm9keSIsInRhcmdldCIsImNsb3Nlc3QiLCJkYXRhc2V0IiwiZWxlbWVudCIsImVsIiwiY29uc29sZSIsImxvZyIsImlubmVySFRNTCIsImNvbmNhdCIsIm5hbWUiLCJpbmZvIiwiZ3JhbW0iLCJwcmljZSIsInJlbW92ZSIsIl91bnVzZWQ0IiwiY2hhbmdlRGlzYWJsZWQiLCJjaGVja0J0blNlbGVjdG9yIiwiYnV0dG9uU2VsZWN0b3IiLCJjaGVjayIsImJ1dHRvbiIsImNoZWNrZWQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJfdW51c2VkNSIsIl91bnVzZWQ2IiwiX3VudXNlZDciLCIkIiwib24iLCJwcmV2ZW50RGVmYXVsdCIsImZvcm0iLCJzZXJpYWxpemVBcnJheSIsImFjdGlvbiIsImF0dHIiLCJoYXNSYWRpbyIsInBvc3QiLCJteWFqYXgiLCJ1cmwiLCJkYXRhIiwicmVzZXQiLCJ0ZXh0Q29udGVudCIsInNldFRpbWVvdXQiLCJhbGVydCIsImNoZWNrYm94IiwiYnRuU3VibWl0IiwiX3VudXNlZDgiLCJfdW51c2VkOSIsIl91bnVzZWQxMCIsInNjcm9sbCIsInNjcm9sbFRvcCIsImhlaWdodCIsImhhc0NsYXNzIiwidHJ1ZV9wb3N0cyIsInF1ZXJ5IiwicGFnZSIsImN1cnJlbnRfcGFnZSIsImJlZm9yZSIsInJlbW92ZUNsYXNzIiwiX3VudXNlZDExIiwiYnRucyIsIm1vZGFsIiwiZGlhbG9nIiwib3ZlcmZsb3ciLCJ0cmFuc2l0aW9uIiwiaW1nIiwibmFtZVRvcnQiLCJkZXNjcmlwdGlvbiIsImtnIiwicnViIiwiaW5wdXRUb3J0IiwiX3VudXNlZDEyIiwiY29udHMiLCJpbnB1dHMiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiZm9jdXMiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJ0cmltIiwiX3VudXNlZDEzIiwiRUxFTUVOVCIsIm1hdGNoZXMiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJwYXJlbnRFbGVtZW50Iiwic3dpcGVyIiwiU3dpcGVyIiwic2xpZGVzUGVyVmlldyIsInNwYWNlQmV0d2VlbiIsImxvb3AiLCJwYWdpbmF0aW9uIiwiY2xpY2thYmxlIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsIl91bnVzZWQxNCJdLCJtYXBwaW5ncyI6ImFBQUFBLE9BQUFDLFdBQUFBLFNBQUFDLFVBQUFDLFVBQ0FGLFNBQUFDLFVBQUFDLFFBQUEsU0FBQUMsRUFBQUMsR0FDQUEsRUFBQUEsR0FBQUwsT0FDQSxJQUFBLElBQUFNLEVBQUEsRUFBQUEsRUFBQUMsS0FBQUMsT0FBQUYsSUFDQUYsRUFBQUssS0FBQUosRUFBQUUsS0FBQUQsR0FBQUEsRUFBQUMsUUFJQSxJQUFBRyxNQUFBQyxTQUFBQyxpQkFBQSxlQXVCQSxDQUFBQyxRQUFBWCxVQUFBWSxTQUFBWixVQUFBYSxpQkFBQWIsV0FyQkFDLFFBQUEsU0FBQWEsR0FDQUEsRUFBQUMsZUFBQSxXQUdBQyxPQUFBQyxlQUFBSCxFQUFBLFNBQUEsQ0FDQUksY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLFVBQUEsRUFDQUMsTUFBQSxXQUNBLElBQUFDLEVBQUFDLE1BQUF2QixVQUFBd0IsTUFBQWpCLEtBQUFrQixXQUNBQyxFQUFBakIsU0FBQWtCLHlCQUVBTCxFQUFBckIsUUFBQSxTQUFBMkIsR0FDQSxJQUFBQyxFQUFBRCxhQUFBRSxLQUNBSixFQUFBSyxZQUFBRixFQUFBRCxFQUFBbkIsU0FBQXVCLGVBQUFDLE9BQUFMLE9BR0F2QixLQUFBMEIsWUFBQUwsUUFLQSxXQUNBLElBQUFRLEVBQUEsQ0FBQXBDLE9BQUFhLFFBQUFiLE9BQUFxQyxjQUFBckMsT0FBQXNDLGNBQ0FDLEVBQUEsR0FFQUgsRUFBQWpDLFFBQUEsU0FBQWEsR0FDQUEsR0FDQXVCLEVBQUFDLEtBQUF4QixFQUFBZCxhQW1CQXFDLEVBYkFwQyxRQUFBLFNBQUFhLEdBQ0FBLEVBQUFD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QUUsU0FBQSxnQkFDQWlCLEVBQUFHLE9BQUF3RSx1QkFBQUMsWUFNQUYsT0FBQXpJLFFBQUEsU0FBQWEsR0FFQUEsRUFBQThCLGlCQUFBLFFBQUEsU0FBQW9CLEdBQ0FBLEVBQUFHLE9BQUEwRSxtQkFBQTdGLE1BQUFDLFFBQUEsU0FHQW5DLEVBQUE4QixpQkFBQSxPQUFBLFNBQUFvQixHQUNBLElBQUFBLEVBQUFHLE9BQUE5QyxNQUFBeUgsU0FDQTlFLEVBQUFHLE9BQUEwRSxtQkFBQTdGLE1BQUFDLFFBQUEsYUFHQSxNQUFBOEYsSUM3QkFqSixPQUFBQyxXQUFBQSxTQUFBQyxVQUFBQyxVQUNBRixTQUFBQyxVQUFBQyxRQUFBLFNBQUFDLEVBQUFDLEdBQ0FBLEVBQUFBLEdBQUFMLE9BQ0EsSUFBQSxJQUFBTSxFQUFBLEVBQUFBLEVBQUFDLEtBQUFDLE9BQUFGLElBQ0FGLEVBQUFLLEtBQUFKLEVBQUFFLEtBQUFELEdBQUFBLEVBQUFDLFFBSUEsS0FDQSxTQUFBMkksR0FDQUEsRUFBQUMsUUFBQUQsRUFBQUMsU0FBQUQsRUFBQUUsb0JBQUFGLEVBQUFHLG1CQUFBSCxFQUFBSSxrQkFBQUosRUFBQUssc0JBQ0FMLEVBQUE1RSxRQUFBNEUsRUFBQTVFLFNBQUEsU0FBQWhCLEdBQ0EsT0FBQS9DLEtBQ0FBLEtBQUE0SSxRQUFBN0YsR0FBQS9DLEtBQ0FBLEtBQUFpSixjQUNBakosS0FBQWlKLGNBQUFsRixRQUFBaEIsR0FEQSxLQUZBLE1BSEEsQ0FRQXpDLFFBQUFYLFdBRUEsSUFBQXVKLE9BQUEsSUFBQUMsT0FBQSxvQkFBQSxDQUNBQyxjQUFBLEVBQ0FDLGFBQUEsR0FDQUMsTUFBQSxFQUNBQyxXQUFBLENBQ0FyRixHQUFBLHFCQUNBc0YsV0FBQSxHQUVBQyxXQUFBLENBQ0FDLE9BQUEsc0JBQ0FDLE9BQUEseUJBMkpBLE1BQUFDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpZiAod2luZG93Lk5vZGVMaXN0ICYmICFOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaCkge1xyXG4gICAgTm9kZUxpc3QucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHRoaXNBcmcpIHtcclxuICAgICAgICB0aGlzQXJnID0gdGhpc0FyZyB8fCB3aW5kb3c7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpc1tpXSwgaSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5jb25zdCBpdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FrZV9faXRlbVwiKTtcclxuKGZ1bmN0aW9uIChhcnIpIHtcclxuICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCdhcHBlbmQnKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaXRlbSwgJ2FwcGVuZCcsIHtcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYXBwZW5kKCkge1xyXG4gICAgICAgICAgdmFyIGFyZ0FyciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksXHJcbiAgICAgICAgICAgIGRvY0ZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcbiAgXHJcbiAgICAgICAgICBhcmdBcnIuZm9yRWFjaChmdW5jdGlvbiAoYXJnSXRlbSkge1xyXG4gICAgICAgICAgICB2YXIgaXNOb2RlID0gYXJnSXRlbSBpbnN0YW5jZW9mIE5vZGU7XHJcbiAgICAgICAgICAgIGRvY0ZyYWcuYXBwZW5kQ2hpbGQoaXNOb2RlID8gYXJnSXRlbSA6IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFN0cmluZyhhcmdJdGVtKSkpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgXHJcbiAgICAgICAgICB0aGlzLmFwcGVuZENoaWxkKGRvY0ZyYWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KShbRWxlbWVudC5wcm90b3R5cGUsIERvY3VtZW50LnByb3RvdHlwZSwgRG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGVdKTtcclxuICAoZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgYXJyID0gW3dpbmRvdy5FbGVtZW50LCB3aW5kb3cuQ2hhcmFjdGVyRGF0YSwgd2luZG93LkRvY3VtZW50VHlwZV07XHJcbiAgICB2YXIgYXJncyA9IFtdO1xyXG4gIFxyXG4gICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICBhcmdzLnB1c2goaXRlbS5wcm90b3R5cGUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICBcclxuICAgIC8vIGZyb206aHR0cHM6Ly9naXRodWIuY29tL2pzZXJ6L2pzX3BpZWNlL2Jsb2IvbWFzdGVyL0RPTS9DaGlsZE5vZGUvcmVtb3ZlKCkvcmVtb3ZlKCkubWRcclxuICAgIChmdW5jdGlvbiAoYXJyKSB7XHJcbiAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoJ3JlbW92ZScpKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdGVtLCAncmVtb3ZlJywge1xyXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pKGFyZ3MpO1xyXG4gIH0pKCk7XHJcbnRyeSB7XHJcbiAgICBjb25zdCBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVfX21lbnVcIilcclxuICAgIGNvbnN0IGJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51X19saXN0XCIpO1xyXG5cclxuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwibWVudV9fbWVudS1hY3RpdmVcIik7XHJcbiAgICAgICAgaWYgKGJ0bi5jbGFzc0xpc3QuY29udGFpbnMoXCJtZW51X19tZW51LWFjdGl2ZVwiKSkge1xyXG4gICAgICAgICAgICBibG9jay5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJsb2NrLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSBjYXRjaCB7fSIsIlxyXG5cclxudHJ5IHtcclxuICAgIGZ1bmN0aW9uIGFkZENsYXNzKHNlbGVjdG9yLCBjbGFzc0xpLCBjbGFzc0xpbmUpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoY2xhc3NMaSk7XHJcbiAgICAgICAgICAgIGlmIChjbGFzc0xpbmUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgICAgICAgICAgbGluZS5jbGFzc0xpc3QuYWRkKGNsYXNzTGluZSk7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmFwcGVuZChsaW5lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGFkZENsYXNzKFwiLmZvb3RlciBsaVwiLCBcImZvb3Rlcl9faXRlbVwiLCBcImZvb3Rlcl9fbGluZVwiKTtcclxuICAgIGFkZENsYXNzKFwiLmhlYWRlciAuaGVhZGVyX19saXN0IGxpXCIsIFwiaGVhZGVyX19pdGVtXCIsIFwiaGVhZGVyX19saW5lXCIpO1xyXG4gICAgYWRkQ2xhc3MoXCIuaGVhZGVyX19saXN0LWhhbWJ1cmdlciBsaVwiLCBcImhlYWRlcl9faXRlbS1oYW1idXJnZXJcIiwgZmFsc2UpO1xyXG4gICAgXHJcbiAgIHRyeSB7XHJcbiAgICBjb25zdCBidXJnZXJBY3RpdmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgYnVyZ2VyQWN0aXZlLmNsYXNzTGlzdC5hZGQoXCJidXJnZXItbGluZVwiKTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyLWFjdGl2ZVwiKS5hcHBlbmQoYnVyZ2VyQWN0aXZlKTtcclxuICAgfSBjYXRjaHt9XHJcbn0gY2F0Y2gge30iLCIvLyBjb25zdCBidG5zSG9tZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaG9tZVwiKTtcclxuY29uc3QgY2F0ZWdvcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRheG9ub215LmNhdGVnb3J5X21lbnVcIilcclxuY29uc3Qgc3BhbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmN1cnJlbnQtaXRlbVwiKTtcclxuXHJcbmNhdGVnb3J5LmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICBpdGVtLmNsYXNzTGlzdC5hZGQoXCJpbmZvVG9ydHNfX2hvbWVcIik7XHJcbn0pO1xyXG5cclxuXHJcblxyXG5zcGFucy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgaXRlbS5jbGFzc0xpc3QuYWRkKFwiaW5mb1RvcnRzX19uZXh0XCIpO1xyXG59KTtcclxuXHJcblxyXG4vLyBpbmZvVG9ydHNfX2hvbWUiLCJ0cnkge1xyXG5cclxuaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCBlID0+IHtcclxuICAgICAgICBjb25zdCBib2R5ID0gZS50YXJnZXQuY2xvc2VzdChcIi5jYWtlX19pdGVtXCIpO1xyXG4gICAgICAgIGlmIChib2R5KSB7XHJcbiAgICAgICAgICAgIGxldCB0cmFuQ2xhc3M7XHJcbiAgICAgICAgICAgIGlmICghYm9keS5xdWVyeVNlbGVjdG9yKFwiLmNha2VfX2luZm9cIikpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaChib2R5LmRhdGFzZXQuZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCIxXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbkNsYXNzID0gXCJjYWtlX19nb1JpZ2h0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjJcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuQ2xhc3MgPSBcImNha2VfX2dvQ2VudGVyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiM1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5DbGFzcyA9IFwiY2FrZV9fZ29MZWZ0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoXCJjYWtlX19pbmZvXCIpO1xyXG4gICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCh0cmFuQ2xhc3MpXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlbCk7XHJcbiAgICAgICAgICAgICAgICBlbC5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJjYWtlX190aXRsZVwiPiR7Ym9keS5kYXRhc2V0Lm5hbWV9PC9oMz5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiY2FrZV9fZGVzY3JpcHRpb25cIj4ke2JvZHkuZGF0YXNldC5pbmZvfTwvcD5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYWtlX19mb290ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2FrZV9fZ3JhbVwiPiR7Ym9keS5kYXRhc2V0LmdyYW1tfSDQsy48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNha2VfX3ByaWNlXCI+JHtib2R5LmRhdGFzZXQucHJpY2V9INGALjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICAgICBib2R5LmFwcGVuZChlbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7XHJcbml0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGUgPT4geyBcclxuICAgICAgICAvLyBjb25zdCBpbWcgPSBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbmMoXCJjYWtlX19pdGVtLWltZ1wiKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNha2VfX2luZm9cIikucmVtb3ZlKClcclxuXHJcbiAgICB9KVxyXG59KVxyXG59IGNhdGNoIHt9XHJcblxyXG4iLCJ0cnkge1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VEaXNhYmxlZChjaGVja0J0blNlbGVjdG9yLCBidXR0b25TZWxlY3Rvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZmZmXCIpXHJcbiAgICAgICAgY29uc3QgY2hlY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNoZWNrQnRuU2VsZWN0b3IpXHJcbiAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihidXR0b25TZWxlY3RvcilcclxuICAgICAgICBjaGVjay5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNoZWNrLmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKVxyXG4gICAgICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9fc3VibWl0XCIpXHJcbiAgICAgICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX19kaXNhYmxlZFwiKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxyXG4gICAgICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9fc3VibWl0XCIpXHJcbiAgICAgICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZChcIm1vZGFsX19kaXNhYmxlZFwiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgICAgY2hhbmdlRGlzYWJsZWQoXCIuYXBwbGljYXRpb24tY2hlY2tib3hcIiwgXCIuYXBwbGljYXRpb25fX3N1Ym1pdFwiKVxyXG4gICAgfSBjYXRjaCB7IH1cclxuICAgIHRyeSB7XHJcbiAgICAgICAgY2hhbmdlRGlzYWJsZWQoXCIudG9ydHNfX2NoZWNrYm94XCIsIFwiLm1vZGFsX190b3J0XCIpXHJcbiAgICB9IGNhdGNoIHsgfVxyXG59IGNhdGNoIHsgfVxyXG5cclxuXHJcblxyXG5cclxuIiwiJCgnZm9ybScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuICB2YXIgZm9ybSA9ICQodGhpcykuc2VyaWFsaXplQXJyYXkoKTtcclxuICB2YXIgYWN0aW9uID0gJCh0aGlzKS5hdHRyKCdhY3Rpb24nKTtcclxuICBsZXQgaGFzUmFkaW8gPSB0cnVlO1xyXG4gIGlmIChhY3Rpb24gPT09IFwiYXBwbGljYXRpb25fZnVuXCIpIHtcclxuICAgIGxldCByYWRpb0J1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFwcGxpY2F0aW9uX19yYWRpb1wiKTtcclxuICAgIHJhZGlvQnV0dG9ucy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICBpZiAoaXRlbS5jaGVja2VkKSB7XHJcbiAgICAgICAgaGFzUmFkaW8gPSB0cnVlXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaGFzUmFkaW8gPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcbiAgaWYgKGhhc1JhZGlvKSB7XHJcbiAgICAkLnBvc3QoXHJcbiAgICAgIG15YWpheC51cmwsXHJcbiAgICAgIHtcclxuICAgICAgICBmb3JtOiBmb3JtLFxyXG4gICAgICAgIGFjdGlvbjogYWN0aW9uXHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkKCdmb3JtJykubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICQoJ2Zvcm0nKVtpXS5yZXNldCgpO1xyXG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wbGFjZWhvbGRlclwiKS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGFjdGlvbiA9PT0gXCJhcHBsaWNhdGlvbl9mdW5cIikge1xyXG4gICAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChcImdvb2RGZXRjaFwiKTtcclxuICAgICAgICAgIGVsLnRleHRDb250ZW50ID0gXCLQo9GB0L/QtdGI0L3Qvi7QktCw0YjQsCDQt9Cw0Y/QstC60LAg0L7RgtC/0YDQsNCy0LvQtdC90LBcIjtcclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXBwbGljYXRpb25fX2Zvcm1cIikuYXBwZW5kKGVsKTtcclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBlbC5yZW1vdmUoKTtcclxuICAgICAgICAgIH0sIDQwMDApXHJcbiAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IFwicGFnZS1jb250XCIpIHtcclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NvbnRlbnRcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChcImdvb2RGZXRjaFwiKTtcclxuICAgICAgICAgIGVsLnRleHRDb250ZW50ID0gXCLQo9GB0L/QtdGI0L3Qvi7QktCw0YjQsCDQt9Cw0Y/QstC60LAg0L7RgtC/0YDQsNCy0LvQtdC90LBcIlxyXG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZGlhbG9nXCIpLmFwcGVuZChlbCk7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgZWwucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NvbnRlbnRcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgIH0sIDQwMDApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfVxyXG4gICAgKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBhbGVydChcItCS0YvQsdC10YDQuNGC0LUg0YHQutC40LTQutGDXCIpXHJcbiAgfVxyXG59KTsiLCJ0cnkge1xyXG4gICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jaGVja2JveFwiKTtcclxuICAgIGNvbnN0IGJ0blN1Ym1pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvblwiKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgYnRuU3VibWl0LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9fZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICBidG5TdWJtaXQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX19zdWJtaXRcIik7XHJcbiAgICAgICAgICAgICAgICBidG5TdWJtaXQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBidG5TdWJtaXQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX19kaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgICAgIGJ0blN1Ym1pdC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcInRydWVcIik7XHJcbiAgICAgICAgICAgICAgICBidG5TdWJtaXQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX19zdWJtaXRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSBjYXRjaCB7IH1cclxufSBjYXRjaCB7IH1cclxuXHJcblxyXG4iLCJ0cnkge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51LWljb25cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgICAgZS50YXJnZXQuY2xvc2VzdChcIi5tZW51LWljb25cIikuY2xhc3NMaXN0LnRvZ2dsZShcImNsaWNrZWRcIik7XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudS1pY29uXCIpLmNsYXNzTGlzdC5jb250YWlucyhcImNsaWNrZWRcIikpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2xpc3QtaGFtYnVyZ2VyXCIpLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtbGlzdFwiLCBcImhlYWRlcl9fbGlzdC1oYW1idXJnZXItYW5pbWF0ZVwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fbGlzdC1oYW1idXJnZXJcIikuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1saXN0XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn0gY2F0Y2gge30iLCJ0cnkge1xyXG5cclxuXHJcbiAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgYm90dG9tT2Zmc2V0ID0gMTEwMDtcclxuICAgICAgICBpZiAoJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPiAoJChkb2N1bWVudCkuaGVpZ2h0KCkgLSBib3R0b21PZmZzZXQpICYmICEkKCdib2R5JykuaGFzQ2xhc3MoJ2xvYWRpbmcnKSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRydWVfcG9zdHMgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRydWVfcG9zdHMpXHJcbiAgICAgICAgICAgICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ2xvYWRpbmcnKVxyXG4gICAgICAgICAgICAgICAgJC5wb3N0KFxyXG4gICAgICAgICAgICAgICAgICAgIG15YWpheC51cmwsXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICduZXdzX2xvYWRtb3JlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHRydWVfcG9zdHMgfHwgXCJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogY3VycmVudF9wYWdlIHx8IFwiXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCB4aHIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgXHQkKCdib2R5JykuYWRkQ2xhc3MoJ2xvYWRpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJCgnLm1lbnVfX2Zvb2RzJykuYXBwZW5kKGRhdGEpOyAvLyDQstGB0YLQsNCy0LvRj9C10Lwg0L3QvtCy0YvQtSDQv9C+0YHRgtGLXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X3BhZ2UrKzsgLy8g0YPQstC10LvQuNGH0LjQstCw0LXQvCDQvdC+0LzQtdGAINGB0YLRgNCw0L3QuNGG0Ysg0L3QsCDQtdC00LjQvdC40YbRg1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm1lbnVfX2xvYWRpbmcnKS5iZWZvcmUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2xvYWRpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFx0XHRcdFx0XHRcdGN1cnJlbnRfcGFnZSsrO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAkKCcjbmV3c19sb2FkbW9yZScpLnJlbW92ZSgpOyAvLyDQtdGB0LvQuCDQvNGLINC00L7RiNC70Lgg0LTQviDQv9C+0YHQu9C10LTQvdC10Lkg0YHRgtGA0LDQvdC40YbRiyDQv9C+0YHRgtC+0LIsINGB0LrRgNC+0LXQvCDQutC90L7Qv9C60YNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5tZW51X19sb2FkaW5nJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIC8vIH0pO1xyXG5cclxuXHJcblxyXG59IGNhdGNoIHsgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyBqUXVlcnkoZnVuY3Rpb24oJCl7XHJcbi8vIFx0JCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpe1xyXG4vLyBcdFx0dmFyIGJvdHRvbU9mZnNldCA9IDQwMDsgLy8g0L7RgtGB0YLRg9C/INC+0YIg0L3QuNC20L3QtdC5INCz0YDQsNC90LjRhtGLINGB0LDQudGC0LAsINC00L4g0LrQvtGC0L7RgNC+0LPQviDQtNC+0LvQttC10L0g0LTQvtGB0LrRgNC+0LvQu9C40YLRjCDQv9C+0LvRjNC30L7QstCw0YLQtdC70YwsINGH0YLQvtCx0Ysg0L/QvtC00LPRgNGD0LfQuNC70LjRgdGMINC90L7QstGL0LUg0L/QvtGB0YLRi1xyXG4vLyBcdFx0dmFyIGRhdGEgPSB7XHJcbi8vIFx0XHRcdCdhY3Rpb24nOiAnbG9hZG1vcmUnLFxyXG4vLyBcdFx0XHQncXVlcnknOiB0cnVlX3Bvc3RzLFxyXG4vLyBcdFx0XHQncGFnZScgOiBjdXJyZW50X3BhZ2VcclxuLy8gXHRcdH07XHJcbi8vICAgICAgICAgLy8gY29uc29sZS5sb2coJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkpXHJcbi8vICAgICAgICAgLy8gY29uc29sZS5sb2coJChkb2N1bWVudCkuaGVpZ2h0KCkpXHJcbi8vIFx0XHRpZiggJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPiAoJChkb2N1bWVudCkuaGVpZ2h0KCkgLSBib3R0b21PZmZzZXQpICYmICEkKCdib2R5JykuaGFzQ2xhc3MoJ2xvYWRpbmcnKSl7XHJcbi8vIFx0XHRcdCQuYWpheCh7XHJcbi8vIFx0XHRcdFx0dXJsOmFqYXh1cmwsXHJcbi8vIFx0XHRcdFx0ZGF0YTpkYXRhLFxyXG4vLyBcdFx0XHRcdHR5cGU6J1BPU1QnLFxyXG4vLyBcdFx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCB4aHIpe1xyXG4vLyBcdFx0XHRcdFx0JCgnYm9keScpLmFkZENsYXNzKCdsb2FkaW5nJyk7XHJcbi8vIFx0XHRcdFx0fSxcclxuLy8gXHRcdFx0XHRzdWNjZXNzOmZ1bmN0aW9uKGRhdGEpe1xyXG4vLyBcdFx0XHRcdFx0aWYoIGRhdGEgKSB7IFxyXG4vLyBcdFx0XHRcdFx0XHQkKCcjdHJ1ZV9sb2FkbW9yZScpLmJlZm9yZShkYXRhKTtcclxuLy8gXHRcdFx0XHRcdFx0JCgnYm9keScpLnJlbW92ZUNsYXNzKCdsb2FkaW5nJyk7XHJcbi8vIFx0XHRcdFx0XHRcdGN1cnJlbnRfcGFnZSsrO1xyXG4vLyBcdFx0XHRcdFx0fVxyXG4vLyBcdFx0XHRcdH1cclxuLy8gXHRcdFx0fSk7XHJcbi8vIFx0XHR9XHJcbi8vIFx0fSk7XHJcbi8vIH0pOyIsInRyeSB7XHJcbiAgICBjb25zdCBidG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b3J0X19pdGVtc1wiKTtcclxuICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbFwiKTtcclxuICAgIGNvbnN0IGRpYWxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2RpYWxvZ1wiKTtcclxuICAgIGNvbnN0IGJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYmxvY2tcIik7XHJcblxyXG5cclxuXHJcbiAgICAvLyBidG5zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgYnRucy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgICAgICBpZiAoIGUudGFyZ2V0LmNsb3Nlc3QoXCIudG9ydF9faXRlbVwiKSkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuICAgICAgICAgICAgbW9kYWwuc3R5bGUudHJhbnNpdGlvbiA9IFwiYWxsIDFzXCI7XHJcbiAgICAgICAgICAgIG1vZGFsLnN0eWxlLm92ZXJmbG93ID0gXCJhdXRvXCI7XHJcbiAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbC1hY3RpdmVcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0LmNsb3Nlc3QoXCIudG9ydF9faXRlbVwiKTtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX19pbmZvVG9ydFwiKTtcclxuICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJtb2RhbF9fdGl0bGVcIj7QntC90LvQsNC50L0g0LfQsNC60LDQtyDRgtC+0YDRgtCwPC9oMj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbF9faW5mb1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbF9faW1nLWJsb2NrXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHt0YXJnZXQuZGF0YXNldC5pbWd9XCIgYWx0PVwidG9ydFwiIGNsYXNzPVwibW9kYWxfX2ltZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbF9fZGVzY3JpcHRpb25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPVwibW9kYWxfX25hbWVcIj4ke3RhcmdldC5kYXRhc2V0Lm5hbWVUb3J0fTwvaDU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibW9kYWxfX3RleHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7dGFyZ2V0LmRhdGFzZXQuZGVzY3JpcHRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsX19ib3R0b21cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWxfX2xpbmVcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWxfX29waXNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsX19ncmFtXCI+JHt0YXJnZXQuZGF0YXNldC5rZ30g0LrQsy48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsX19wcmljZVwiPiR7dGFyZ2V0LmRhdGFzZXQucnVifSDigr08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICBibG9jay5hcHBlbmQoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGlucHV0VG9ydCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgICAgICAgICAgaW5wdXRUb3J0LmNsYXNzTGlzdC5hZGQoXCJpbnB1dF9faGlkZGVuXCIpO1xyXG4gICAgICAgICAgICBpbnB1dFRvcnQudmFsdWUgPSB0YXJnZXQuZGF0YXNldC5uYW1lVG9ydDtcclxuICAgICAgICAgICAgaW5wdXRUb3J0LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJ0b3J0XCIpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhpZGRlbl9fbGFiZWxcIikuYXBwZW5kKGlucHV0VG9ydCk7XHJcbiAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KVxyXG4gICAgLy8gfSlcclxuXHJcbiAgICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikgfHwgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfY2xvc2VcIikpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiXCI7XHJcbiAgICAgICAgICAgIG1vZGFsLnN0eWxlLnRyYW5zaXRpb24gPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsLWFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgbW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW5mb1RvcnRcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGlkZGVuX19sYWJlbFwiKS5xdWVyeVNlbGVjdG9yKFwiLmlucHV0X19oaWRkZW5cIikucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufSBjYXRjaCB7fSIsInRyeSB7XHJcbiAgICBjb25zdCBjb250cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29udFwiKTtcclxuXHJcbiAgICBjb25zdCBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFwcGxpY2F0aW9uXCIpLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYXBwbGljYXRpb24taW5wdXRcIik7XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIGNvbnRzLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBsYWNlaG9sZGVyXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBlLnRhcmdldC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmZvY3VzKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcblxyXG4gICAgaW5wdXRzLmZvckVhY2goaXRlbSA9PiB7XHJcblxyXG4gICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUudHJpbSgpID09ICcnKVxyXG4gICAgICAgICAgICAgICAgZS50YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn0gY2F0Y2ggeyB9XHJcblxyXG4iLCJpZiAod2luZG93Lk5vZGVMaXN0ICYmICFOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaCkge1xyXG4gIE5vZGVMaXN0LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrLCB0aGlzQXJnKSB7XHJcbiAgICB0aGlzQXJnID0gdGhpc0FyZyB8fCB3aW5kb3c7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB0aGlzW2ldLCBpLCB0aGlzKTtcclxuICAgIH1cclxuICB9O1xyXG59XHJcbnRyeSB7XHJcbiAgKGZ1bmN0aW9uIChFTEVNRU5UKSB7XHJcbiAgICBFTEVNRU5ULm1hdGNoZXMgPSBFTEVNRU5ULm1hdGNoZXMgfHwgRUxFTUVOVC5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgRUxFTUVOVC5tc01hdGNoZXNTZWxlY3RvciB8fCBFTEVNRU5ULm9NYXRjaGVzU2VsZWN0b3IgfHwgRUxFTUVOVC53ZWJraXRNYXRjaGVzU2VsZWN0b3I7XHJcbiAgICBFTEVNRU5ULmNsb3Nlc3QgPSBFTEVNRU5ULmNsb3Nlc3QgfHwgZnVuY3Rpb24gY2xvc2VzdChzZWxlY3Rvcikge1xyXG4gICAgICBpZiAoIXRoaXMpIHJldHVybiBudWxsO1xyXG4gICAgICBpZiAodGhpcy5tYXRjaGVzKHNlbGVjdG9yKSkgcmV0dXJuIHRoaXM7XHJcbiAgICAgIGlmICghdGhpcy5wYXJlbnRFbGVtZW50KSB7IHJldHVybiBudWxsIH1cclxuICAgICAgZWxzZSByZXR1cm4gdGhpcy5wYXJlbnRFbGVtZW50LmNsb3Nlc3Qoc2VsZWN0b3IpXHJcbiAgICB9O1xyXG4gIH0oRWxlbWVudC5wcm90b3R5cGUpKTtcclxuXHJcbiAgdmFyIHN3aXBlciA9IG5ldyBTd2lwZXIoJy5zd2lwZXItY29udGFpbmVyJywge1xyXG4gICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgIHNwYWNlQmV0d2VlbjogMzAsXHJcbiAgICBsb29wOiB0cnVlLFxyXG4gICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbicsXHJcbiAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgIG5leHRFbDogJy5zd2lwZXItYnV0dG9uLW5leHQnLFxyXG4gICAgICBwcmV2RWw6ICcuc3dpcGVyLWJ1dHRvbi1wcmV2JyxcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgLy8gY29uc3Qgd2lkdGggPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNsaWRlcl9fd3JhcHBlclwiKSkud2lkdGg7XHJcbiAgLy8gY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2xpZGVyX193cmFwcGVyXCIpO1xyXG4gIC8vIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zbGlkZXJfX2l0ZW1cIik7XHJcbiAgLy8gY29uc3QgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2xpZGVyX19jb250ZW50XCIpO1xyXG4gIC8vIGNvbnN0IHByZXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNsaWRlcl9fbGVmdFwiKTtcclxuICAvLyBjb25zdCBuZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbGlkZXJfX3JpZ2h0XCIpO1xyXG4gIC8vIGNvbnN0IHNsaWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2xpZGVyXCIpO1xyXG5cclxuICAvLyBsZXQgY291bnQgPSAxO1xyXG5cclxuXHJcbiAgLy8gZnVuY3Rpb24gYWRkRG90cygpIHtcclxuICAvLyAgICAgY29uc3QgZG90cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgLy8gICAgIGRvdHMuY2xhc3NMaXN0LmFkZChcInNsaWRlcl9fZG90c1wiKTtcclxuXHJcblxyXG4gIC8vICAgICBlbGVtZW50cy5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcclxuICAvLyAgICAgICAgIGNvbnN0IGRvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcclxuICAvLyAgICAgICAgIGRvdC5jbGFzc0xpc3QuYWRkKFwic2xpZGVyX19kb3RcIik7XHJcbiAgLy8gICAgICAgICBkb3Quc2V0QXR0cmlidXRlKFwiZGF0YS1jb3VudFwiLCBpbmRleCArIDEpXHJcbiAgLy8gICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcclxuICAvLyAgICAgICAgICAgICBkb3QuY2xhc3NMaXN0LmFkZChcInNsaWRlcl9fZG90LWFjdGl2ZVwiKTsgIFxyXG4gIC8vICAgICAgICAgfVxyXG4gIC8vICAgICAgICAgZG90cy5hcHBlbmRDaGlsZChkb3QpO1xyXG4gIC8vICAgICB9KVxyXG5cclxuICAvLyAgICAgLy8gZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gIC8vICAgICAvLyB9XHJcblxyXG5cclxuICAvLyAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbGlkZXJcIikuYXBwZW5kQ2hpbGQoZG90cyk7XHJcbiAgLy8gfVxyXG4gIC8vIGFkZERvdHMoKTtcclxuXHJcblxyXG4gIC8vIGNvbnRlbnQuc3R5bGUud2lkdGggPSBlbGVtZW50cy5sZW5ndGggKiBwYXJzZUludCh3aWR0aCkgKyBcInB4XCI7XHJcblxyXG4gIC8vIG5leHQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGdvTmV4dCk7XHJcbiAgLy8gcHJldi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZ29QcmV2KTtcclxuXHJcbiAgLy8gbGV0IGludGVydmFsO1xyXG5cclxuICAvLyBmdW5jdGlvbiBzdGFydEludGVydmFsKCkge1xyXG4gIC8vICAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKGdvTmV4dCwgNjAwMCk7XHJcbiAgLy8gfVxyXG4gIC8vIHN0YXJ0SW50ZXJ2YWwoKTtcclxuXHJcbiAgLy8gd3JhcHBlci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCAoKSA9PiB7XHJcbiAgLy8gICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gIC8vIH0pXHJcblxyXG4gIC8vIHdyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xyXG4gIC8vICAgICBzdGFydEludGVydmFsKCk7XHJcbiAgLy8gfSlcclxuXHJcbiAgLy8gc2xpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2xpZGVyX19kb3RcIikuZm9yRWFjaChpdGVtID0+IHtcclxuICAvLyAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IGNoYW5nZURvdHMoZSwgbnVsbCkpXHJcbiAgLy8gfSlcclxuXHJcbiAgLy8gZnVuY3Rpb24gY2hhbmdlRG90cyhlLCBjb2xvcikge1xyXG4gIC8vICAgICBpZiAoZSkge1xyXG4gIC8vICAgICAgICAgc2xpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2xpZGVyX19kb3RcIikuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAvLyAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJzbGlkZXJfX2RvdC1hY3RpdmVcIik7XHJcbiAgLy8gICAgICAgICB9KVxyXG4gIC8vICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZChcInNsaWRlcl9fZG90LWFjdGl2ZVwiKTtcclxuICAvLyAgICAgICAgIGNvbnN0IGluZGV4ID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1jb3VudFwiKTtcclxuXHJcbiAgLy8gICAgICAgICBjb3VudCA9IGluZGV4O1xyXG4gIC8vICAgICAgICAgY29uc3QgcmVzdWx0ID0gKGNvdW50ICogcGFyc2VJbnQod2lkdGgpKSAtIHBhcnNlSW50KHdpZHRoKTtcclxuICAvLyAgICAgICAgIGNvbnRlbnQuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoLSR7cmVzdWx0fXB4KWA7XHJcbiAgLy8gICAgIH1cclxuXHJcbiAgLy8gICAgIGlmIChjb2xvcikge1xyXG4gIC8vICAgICAgICAgc2xpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2xpZGVyX19kb3RcIikuZm9yRWFjaCgoaXRlbSwgaW5kZXgpPT4ge1xyXG4gIC8vICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcInNsaWRlcl9fZG90LWFjdGl2ZVwiKTtcclxuICAvLyAgICAgICAgICAgICBpZiAoaW5kZXgrMSA9PT0gY291bnQpIHtcclxuICAvLyAgICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKFwic2xpZGVyX19kb3QtYWN0aXZlXCIpO1xyXG4gIC8vICAgICAgICAgICAgIH1cclxuICAvLyAgICAgICAgIH0pO1xyXG4gIC8vICAgICB9XHJcbiAgLy8gfVxyXG5cclxuICAvLyBmdW5jdGlvbiBnb05leHQoKSB7XHJcbiAgLy8gICAgIGlmIChjb3VudCA9PT0gZWxlbWVudHMubGVuZ3RoKSB7XHJcbiAgLy8gICAgICAgICBjb250ZW50LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKDApYDtcclxuICAvLyAgICAgICAgIGNvdW50ID0gMTtcclxuICAvLyAgICAgfSBlbHNlIHtcclxuICAvLyAgICAgICAgIGNvdW50Kys7XHJcbiAgLy8gICAgICAgICBjb25zdCByZXN1bHQgPSAoY291bnQgLSAxKSAqIHBhcnNlSW50KHdpZHRoKTtcclxuICAvLyAgICAgICAgIGNvbnRlbnQuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoLSR7cmVzdWx0fXB4KWA7XHJcbiAgLy8gICAgIH1cclxuICAvLyAgICAgY2hhbmdlRG90cyhudWxsLCBcImNoYW5nZUNvbG9yXCIpXHJcbiAgLy8gfVxyXG5cclxuICAvLyBmdW5jdGlvbiBnb1ByZXYoKSB7XHJcbiAgLy8gICAgIGlmIChjb3VudCA9PT0gMSkge1xyXG4gIC8vICAgICAgICAgY29uc3QgcmVzdWx0ID0oIChlbGVtZW50cy5sZW5ndGggLSAxKSAqIHBhcnNlSW50KHdpZHRoKSkgKyBcInB4XCI7XHJcbiAgLy8gICAgICAgICBjb250ZW50LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke3Jlc3VsdH0pYDtcclxuICAvLyAgICAgICAgIGNvdW50ID0gZWxlbWVudHMubGVuZ3RoO1xyXG4gIC8vICAgICB9IGVsc2Uge1xyXG4gIC8vICAgICAgICAgY291bnQtLTtcclxuICAvLyAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChjb3VudCAqIHBhcnNlSW50KHdpZHRoKSkgLSBwYXJzZUludCh3aWR0aCk7XHJcbiAgLy8gICAgICAgICBjb250ZW50LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke3Jlc3VsdH1weClgO1xyXG4gIC8vICAgICB9XHJcbiAgLy8gICAgIGNoYW5nZURvdHMobnVsbCwgXCJjaGFuZ2VDb2xvclwiKVxyXG4gIC8vIH1cclxuXHJcbiAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbGlkZXJfX2J1dHRvbnNcIikuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIGUgPT4ge1xyXG4gIC8vICAgICBjb25zdCBlbCA9IGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKFwiLnNsaWRlcl9fY29udGVudFwiKTtcclxuICAvLyAgICAgLy8gZWwucG9pbnRlcm1vdmUoKCkgPT4ge1xyXG4gIC8vICAgICAvLyAgICAgY29uc29sZS5sb2coXCJmZmZcIilcclxuICAvLyAgICAgLy8gfSlcclxuICAvLyAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgLy8gICAgIGNvbnNvbGUubG9nKGVsKTtcclxuICAvLyAgICAgLy8gZG9jdW1lbnQub25wb2ludGVybW92ZSA9ICgpID0+IHtcclxuICAvLyAgICAgLy8gICAgIGNvbnNvbGUubG9nKFwiW2ZbZltmXCIpXHJcbiAgLy8gICAgIC8vIH07XHJcbiAgLy8gICAgIGRvY3VtZW50Lm9ucG9pbnRlcnVwID0gKCkgPT4ge1xyXG4gIC8vICAgICAgICAgY29uc29sZS5sb2coXCJmZmZcIik7XHJcbiAgLy8gICAgIH1cclxuICAvLyB9KTtcclxuXHJcbn1cclxuXHJcbmNhdGNoIHsgfSJdfQ==
